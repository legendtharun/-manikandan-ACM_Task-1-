<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ACM</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="loading_page">
      <img id="logo" src="./ACM_LOGO__2_-removebg-preview.png" />
    </div>
    <div class="heading">
      <h2>ACM Student chapter</h2>
    </div>

    <div class="loading-screen">
      <div class="loader">
        <div class="loader-1 bar"></div>
      </div>
      <div class="counter">
        <div class="counter-1 digit">
          <div class="num">0</div>
          <div class="num num1offset1">1</div>
        </div>
        <div class="counter-2 digit">
          <div class="num">0</div>
          <div class="num num1offset2">1</div>
          <div class="num">2</div>
          <div class="num">3</div>
          <div class="num">4</div>
          <div class="num">5</div>
          <div class="num">6</div>
          <div class="num">7</div>
          <div class="num">8</div>
          <div class="num">9</div>
          <div class="num">0</div>
        </div>
        <div class="counter-3 digit">
          <div class="num">0</div>
          <div class="num">1</div>
          <div class="num">2</div>
          <div class="num">3</div>
          <div class="num">4</div>
          <div class="num">5</div>
          <div class="num">6</div>
          <div class="num">7</div>
          <div class="num">8</div>
          <div class="num">9</div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const counter3 = document.querySelector(".counter-3");
        for (let i = 0; i < 2; i++) {
          for (let j = 0; j < 10; j++) {
            const div = document.createElement("div");
            div.className = "num";
            div.textContent = j;
            counter3.appendChild(div);
          }
        }
        const finaldiv = document.createElement("div");
        finaldiv.className = "num";
        finaldiv.textContent = "0";
        counter3.appendChild(finaldiv);
        function animate(counter, duration, delay = 0) {
          const numheight = document.querySelector(".num").clientHeight;
          const totalDistance =
            (counter.querySelectorAll(".num").length - 1) * numheight;
          gsap.to(counter, {
            y: -totalDistance,
            duration: duration,
            delay: delay,
            ease: "power2.inOut",
          });
        }
        animate(counter3, 5);
        animate(document.querySelector(".counter-2"), 6);
        animate(document.querySelector(".counter-1"), 2, 4);
      });
      gsap.to(".digit", {
        top: "-150px",
        stagger: {
          amount: 0.25,
        },
        delay: 6,
        duration: 1,
        ease: "power4.inOut",
      });
      gsap.from(".loader-1", {
        width: 0,
        duration: 6,
        ease: "power2.inOut",
      });

      gsap.to(".loader", {
        background: "none",
        delay: 8,
        duration: 0.1,
      });
      gsap.to(".loader", {
        scale: 40,
        delay: 7,
        duration: 2,
      });
      gsap.to(".loading-screen", {
        opacity: 0,
        delay: 8,
        duration: 1,
      });
      gsap.to(".loading_page", 1.5, {
        delay: 8,
        y: -80,
        ease: "power4.inOut",
        stagger: {
          amount: 0.1,
        },
      });
      gsap.to(".heading", 1.5, {
        opacity: 1,
        delay: 8,
        duration: 2,
        ease: "power4.inOut",
        stagger: {
          amount: 0.1,
        },
      });
    </script>
  </body>
</html>
